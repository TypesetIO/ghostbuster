Dual-doped mesoporous hard carbon demonstrated a high reversible capacity of 369 mAh/g at 0.5 A/g because of the increased interlayer spacing, abundant active sites, and modified electronic structure.